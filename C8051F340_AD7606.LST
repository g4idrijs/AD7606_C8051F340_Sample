C51 COMPILER V9.01   C8051F340_AD7606                                                      05/18/2015 16:00:50 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE C8051F340_AD7606
OBJECT MODULE PLACED IN C8051F340_AD7606.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE C8051F340_AD7606.c LARGE BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <c8051f340.h>
   2          #include "C8051F340_AD7606.h"
   3          #include "Delay.h"
   4          #include <intrins.h>
   5          
   6          sbit CS_RD=P0^0;
   7          sbit CONVSTAB=P0^1;
   8          sbit BUSY=P0^6;
   9          sbit REST=P0^7;
  10          sbit OA=P2^4;
  11          sbit OB=P2^5;
  12          sbit OC=P2^6;
  13          sbit RAGE= P2^7;
  14          
  15          U8 Busy;
  16          
  17          U8 xdata out[1024];
  18          U16 t;
  19          U16 i;
  20          
  21          void AD7606_Init()
  22          {
  23   1              delay80us();
  24   1              REST=0;
  25   1              OA=0;OB=0;OC=0;RAGE=0;
  26   1              CS_RD=1;
  27   1              CONVSTAB=1;
  28   1              REST=1;
  29   1              delay1us();
  30   1              REST=0;
  31   1              
  32   1      }                                          
  33          
  34          void AD7606_Read()
  35          {
  36   1              CONVSTAB=1;     
  37   1              Block_Write(out,1024);
*** WARNING C206 IN LINE 37 OF C8051F340_AD7606.C: 'Block_Write': missing function-prototype
*** ERROR C267 IN LINE 37 OF C8051F340_AD7606.C: 'Block_Write': requires ANSI-style prototype
  38   1              Busy=BUSY;
  39   1              while(Busy==1)
  40   1              {
  41   2                      Busy=BUSY;
  42   2              }       
  43   1              CS_RD=0;
  44   1              out[0]=P3;
  45   1              out[1]=P1;
  46   1              CS_RD=1;
  47   1              CONVSTAB=0;
  48   1      }

C51 COMPILATION COMPLETE.  1 WARNING(S),  1 ERROR(S)
